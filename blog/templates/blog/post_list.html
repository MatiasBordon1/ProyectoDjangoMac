{% extends 'Main/base.html' %}
{% block title %}Lista de Publicaciones{% endblock %}
{% block content_title %}Lista de Publicaciones{% endblock %}

{% block content %}
<form method="get" class="d-flex mb-3" role="search">
  <input class="form-control me-2" type="search" name="busqueda" placeholder="Buscar publicaciones..." aria-label="Buscar">
  <button class="btn btn-outline-success" type="submit">Buscar</button>
</form>

<a href="{% url 'blog:post_create' %}" class="btn btn-primary mb-3">Crear nueva publicaci√≥n</a>

{% for post in posts %}
  <div class="card mb-3">
    <div class="card-body">
      <h5 class="card-title">{{ post.titulo }}</h5>
      <p class="card-text">{{ post.contenido|truncatechars:100 }}</p>
      <a href="{% url 'blog:post_detail' post.id %}" class="btn btn-sm btn-info">Detalle</a>
      <a href="{% url 'blog:post_update' post.id %}" class="btn btn-sm btn-warning">Editar</a>
      <a href="{% url 'blog:post_delete' post.id %}" class="btn btn-sm btn-danger">Eliminar</a>
    </div>
  </div>
{% empty %}
  <p>No hay publicaciones disponibles.</p>
{% endfor %}
{% endblock %}
